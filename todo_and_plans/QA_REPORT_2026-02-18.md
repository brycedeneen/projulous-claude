# Projulous Web - Full QA Sweep Report
**Date**: 2026-02-18/19
**Method**: Code review + API verification (Chrome extension was unavailable for visual browser testing)

---

## Executive Summary

| Persona | Testing Method | Issues Found |
|---------|---------------|-------------|
| Anonymous (public pages) | Code review + GraphQL API verification | 2 Medium, 3 Low |
| Customer (authenticated) | BLOCKED - Chrome extension unavailable | 0 (needs re-test) |
| Service Provider | BLOCKED - Chrome extension unavailable | 0 (needs re-test) |
| Super Admin | Code review of all admin pages | 3 Major, 4 Minor, 1 ACL |

**Total unique issues**: 3 Major, 2 Medium, 3 Low, 4 Minor, 1 ACL
**Pages needing re-test**: Customer (9 areas), Service Provider (9 areas)

---

## MAJOR Issues (Degrades Experience / Security)

### MAJ-1: Admin Guard Too Permissive - Any Admin Can Access All Admin Pages
- **Severity**: HIGH
- **File**: `projulous-web/app/shared/components/adminGuard.layout.tsx:17-18`
- **Description**: The admin guard checks for ANY admin-ish permission to allow access to ALL admin routes. A user with only `HELP_CENTER_CREATE` can navigate directly to `/admin/users`, `/admin/roles`, `/admin/billing`, `/admin/vendor-pages`, etc. No per-route permission validation exists.
- **Expected**: Each admin route should check its specific permission requirements.
- **Risk**: Users with limited admin permissions can see/access pages they shouldn't.

### MAJ-2: Missing SP Permissions in Admin Guard
- **Severity**: HIGH
- **File**: `projulous-web/app/shared/components/adminGuard.layout.tsx:18`
- **Description**: The admin guard doesn't include `SP_CERTIFICATION_READ`, `SERVICE_PROVIDER_MODIFY`, or `SERVICE_PROVIDER_DELETE` in its permission check list. Users with only SP review permissions would be BLOCKED from accessing the SP Review dashboard, even though the routes are nested under the admin guard.
- **Expected**: Admin guard should include all permissions that grant access to any admin sub-page.

### MAJ-3: Auth Method Display Shows "Password" for OAuth-Only Users
- **Severity**: MEDIUM
- **File**: `projulous-web/app/routes/admin/userManagement/userManagementDashboard.route.tsx:54-61`
- **Description**: `AuthMethodIcons` always shows 'password' as a fallback. The `||` logic means if a user has Google auth, both 'password' AND 'google' icons display. OAuth-only users shouldn't show the password icon.
- **Expected**: Only show "Password" if the user actually has password-based authentication.

---

## MEDIUM Issues (Data/Content)

### MED-1: Help Center Shows Empty Content
- **Severity**: MEDIUM
- **Page**: `/help-center`
- **Description**: GraphQL API returns zero published categories, articles, and FAQs. The page renders correctly but shows empty grids and "No articles available yet."
- **Impact**: Help Center appears broken/abandoned to visitors.
- **Fix**: Seed help center content.

### MED-2: Project Showcase Shows Empty Content
- **Severity**: MEDIUM
- **Page**: `/projects`
- **Description**: `getPublishedShowcaseProjects` returns empty array. Users see "No projects found" empty state.
- **Impact**: Showcase page provides zero value to visitors.
- **Fix**: Seed showcase project content.

---

## LOW Issues (Polish)

### LOW-1: Contact Page "Start Chat" Button Non-Functional
- **Page**: `/help-center/contact`
- **File**: `projulous-web/app/routes/helpCenter/helpCenterContact.route.tsx:117`
- **Description**: "Start Live Chat" button shows "Online Now" green dot but has no onClick handler. Misleading.
- **Fix**: Implement chat, or add "Coming Soon" label, or hide the card.

### LOW-2: Community Resources Links Go to "#"
- **Page**: `/help-center/contact`
- **File**: `projulous-web/app/routes/helpCenter/helpCenterContact.route.tsx:284-318`
- **Description**: 4 resource cards (Guides, Videos, Forum, Status) all link to `#`. Clicking scrolls to top of page.
- **Fix**: Create destination pages or hide section until ready.

### LOW-3: Plumbing Vendor Page Has Test FAQ Data
- **Page**: `/services/plumbing`
- **Description**: FAQ has question="test" and answer="test 2 faq" visible to users. Test data in database.
- **Fix**: Replace with real FAQ content or delete the test entry.

---

## MINOR Issues (Code Quality)

### MIN-1: Support Ticket Detail Uses `(ticket as any)` Casts
- **File**: `projulous-web/app/routes/admin/supportTickets/supportTicketDetail.route.tsx:117,148,149,300`
- **Description**: TypeScript type for `SupportTicket` doesn't include relation fields, forcing `any` casts.

### MIN-2: Idea Detail Uses `any` in Catch Blocks
- **File**: `projulous-web/app/routes/admin/ideas/ideaAdminDetail.route.tsx:55`
- **Description**: `catch (err: any)` used instead of `unknown` with narrowing.

### MIN-3: FAQ Modal Hardcodes Dark Theme
- **File**: `projulous-web/app/routes/admin/vendorPages/vendorPageEditor.route.tsx:907`
- **Description**: FAQ modal uses `border-zinc-700 bg-zinc-800` without `dark:` prefix, always rendering dark regardless of theme. Service type modal in same file correctly uses light/dark variants.

### MIN-4: Route.ComponentProps Type Import Pattern
- **File**: `projulous-web/app/routes/admin/billing/billingManagement.route.tsx:9,36`
- **Description**: Uses React Router v7's file-based type generation. Low risk if types are generated, but could cause TypeScript errors if not.

---

## Pages That PASSED (No Issues)

### Anonymous Pages
| Route | Status |
|-------|--------|
| `/` (Home) | PASS - PromptInput, FeatureCards, Gallery all present |
| `/help-center` | PASS (structural, content empty - MED-1) |
| `/help-center/articles/:slug` | PASS - Breadcrumbs, markdown, ToC, related articles |
| `/help-center/contact` | PASS (structural, LOW-1 & LOW-2 noted) |
| `/help-center/ideas` | PASS - Shows "Sign in to view Ideas" for anon |
| `/help-center/ideas/:id` | PASS - Votes disabled for anon, comments work |
| `/services` | PASS - Lists vendor pages, empty state handled |
| `/services/:vendorType/provider/:id` | PASS - Avatar, badges, rating, Get Quote modal |
| `/projects` | PASS (structural, content empty - MED-2) |
| `/projects/:slug` | PASS - Hero, provider card, gallery, tags |
| `/serviceProviders/whyJoin` | PASS - 6 benefits, tiers, comparison table, FAQs |
| `/auth/login` | PASS - Email/password, OAuth, deactivation handling |
| `/auth/register` | PASS - 4 fields, success notification, redirect |
| `/auth/forgotPassword` | PASS - Email field, success notification, redirect |
| 404 catch-all | PASS - Icon, Go Home/Back buttons, i18n |

### Admin Pages (Code Review)
| Route | Status |
|-------|--------|
| `/admin/users` | PASS (except MAJ-3) |
| `/admin/users/:id` | PASS - Edit, verify, soft delete, roles, audit trail |
| `/admin/roles` | PASS - Create/delete, stat cards, system vs custom |
| `/admin/roles/:id` | PASS - Permission matrix, members tab, bulk save |
| `/admin/help-center` | PASS - 3 tabs, full CRUD, search, audience filter |
| `/admin/ideas` | PASS - Stat cards, sentiment, search/filter, pagination |
| `/admin/ideas/:id` | PASS (except MIN-2) |
| `/admin/support-tickets` | PASS - Stat cards, search, multi-filter, pagination |
| `/admin/support-tickets/:id` | PASS (except MIN-1) |
| `/admin/vendor-pages` | PASS - Search, status filter, delete confirmation |
| `/admin/vendor-pages/editor` | PASS (except MIN-3) |
| `/admin/billing` | PASS - Billing accounts table |

---

## NOT TESTED (Requires Re-Test with Chrome Extension)

### Customer Persona (All Pages)
- `/auth/login` (customer login flow)
- `/customers/appliances` (list, detail, CRUD, photos, maintenance, service history)
- `/customers/places` (list, detail, CRUD)
- `/customers/projects` (list, detail, CRUD, SP management)
- `/customers/tickets` (list, detail, create)
- `/customers/maintenance` (dashboard)
- `/customers/billing`
- `/notifications`
- `/auth/settings`

### Service Provider Persona (All Pages)
- `/auth/login` (SP login flow)
- `/serviceProviders/dashboard`
- `/serviceProviders/offerings` (list, CRUD)
- `/serviceProviders/certification`
- `/serviceProviders/team` (list, detail, invite, deactivate)
- `/serviceProviders/tickets` (list, detail)
- `/serviceProviders/billing` (change plan)
- `/notifications`
- `/auth/settings`

---

## Recommended Priority Actions

1. **HIGH**: Fix admin guard to use per-route permission checks (MAJ-1 + MAJ-2 + ACL-1)
2. **MEDIUM**: Fix AuthMethodIcons logic for OAuth-only users (MAJ-3)
3. **MEDIUM**: Seed Help Center and Project Showcase content (MED-1 + MED-2)
4. **LOW**: Fix contact page placeholders (LOW-1 + LOW-2)
5. **LOW**: Clean up test FAQ data (LOW-3)
6. **LOW**: Fix vendor page editor dark theme inconsistency (MIN-3)
7. **FOLLOW-UP**: Re-run Customer + Service Provider persona tests with Chrome extension connected
